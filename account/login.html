<html>
<head>

<!--

　　　          ___   .--.
　　　    .--.-"   "-' .- |
　　　   / .-,`          .'   
　　　   \   `           \ 　　　　　　。・゜ 　♡   。　　・　゜ 　　　♡  
　　　    '.            ・ \　　　　　　　　　　　　　　　　　　　　　　　　♡　　　　♡ ゜・。。♡  
　　　      |  ・     ᴥ    。|　　　　・゜♡ ゜・。　　. * ・ ♡ °  . 。
　　　      \ 。            /.____　　　　　　　　　　　　　　　　　　♡.  
　　　     /`-.          ,'.'    `\　　　　　　　　　　　　　　　　　　。・゜　　　 ♡ ・ 。　　。・゜ ♡  
　　　  __/   \`-.____.-' `\      /　　　　　♡　。・゜      
　　　  | `---`'-'._/-`     \----'    _ 　　　　　　　　　　　♡　　　.　　　.♡ 
　　　  |,-'`  /             |    _.-' `\　　　　. * ・        
　　　 .'     /              |--'`     / |　　　　　　　　　　 ♡
　　　/      /\              `         | |
　　　|   .\/  \      .--. __          \ |　　　　　　　　　　　*.。middlepot.com 
　　　 '-'      '._       /  `\         /　　　　　　　　　　　　　　　　　　　　　　　ଘ(*´ ˘ `*)ഒ 。.*
　　　             `\    '     |------'`
　　　               \  |      |
　　　                \        /
 　　　                '._  _.'

-->

<title>poofties™</title>

<link rel="shortcut icon" href="./img/favicon.png">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="title" content="꒰ ु ˊ ˘ `꒰ ू´ ˘ ` ू ꒱">
<meta name="description" content="poofties™">
<meta name="theme-color" content="#f7e9ed">
<meta property="og:url" content="https://poofties.club">
<meta property="og:title" content="꒰ ु ˊ ˘ `꒰ ू´ ˘ ` ू ꒱">
<meta property="og:description" content="poofties™">
<meta property="og:image" content="https://middlepot.com/img/poofties.jpg">
<meta property="og:image:type" content="image/jpeg">
<meta property="og:type" content="website">
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://poofties.club">
<meta property="twitter:title" content="꒰ ु ˊ ˘ `꒰ ू´ ˘ ` ू ꒱">
<meta property="twitter:description" content="poofties™">
<meta property="twitter:image" content="https://middlepot.com/img/poofties.jpg">

<meta name="google-site-verification" content="AQpCLBEAd7_D3wVPcwwnneOLo-FmxoEGGxfvudPQiJo" />

<style>
body{cursor: url(./img/cursor.png), progress;}
a:hover {cursor: url(./img/cursorhover.png), progress;}
::selection {text-shadow: 0 0 2px #cec1bb;color:#cec1bb}
::-moz-selection {text-shadow: 0 0 2px #cec1bb;color:#cec1bb}
</style>
<style type="text/css">
::-webkit-scrollbar {
width: 4px;
height: 4px;
background: transparent;
}
::-webkit-scrollbar-thumb {
background-color: #f9f0ed;
-webkit-border-radius: 0ex;
border: 1px dotted #e2d5d0;
}
#linkbjinho { color: #bca7a7; padding-bottom: 2px; border-bottom:1px dotted #c6a799; }
#linkzinho { padding-bottom: 2px; border-bottom:1px dotted #c6a799; }
#linkzinhoo { padding-bottom: 2px; border-bottom:1px dotted #e8c1c5; }</style>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
<script src="./js/cookies.js"></script>
<script src="./js/util.js"></script>

</head>

<body ondragstart="return false" style="background-image:url(./img/bg.jpg); background-repeat: no-repeat; background-size: cover; background-color:#fefbfb; font-family: Verdana; font-size: 10px;">
<style>
html {
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
}
#base {
position: absolute;
	left: 350px;
	top: 90px;
overflow-y:hidden;
overflow-x:hidden;
 }
#stuff {
position: absolute;
	left: 15px;
	top: 54px;
width: 594px;
height: 415px;
overflow-x:hidden;
z-index: 6;
 }
#aaa {
position: absolute;
	left: 273px;
	top: 522px;
width: 100px;
height: 100px;
overflow-x:hidden;
z-index: 3;
 }
@media screen and (max-width: 1000px) and (orientation: portrait){
#everything { position: absolute; zoom: 145%;
	left:590px;
	top:-150px;
    -webkit-transform: rotate(90deg);
    -moz-transform: rotate(90deg);
    -o-transform: rotate(90deg);
    -ms-transform: rotate(90deg);
    transform: rotate(90deg); }
#stuff { overflow: auto; overflow: scroll; }
}
@media screen and (min-width: 1700px) and (orientation: landscape){
#everything { position: absolute; zoom: 120%;
	left:90px;
	top:35px; }
#stuff { overflow: auto; overflow: scroll; }
}
@media screen and (min-width: 2000px) and (orientation: landscape){
#everything { position: absolute; zoom: 100%; left:-80px; top:0px;}
#stuff { overflow: auto; overflow: scroll; }
}
@media screen and (min-width: 3000px) and (orientation: landscape){
#everything { position: absolute; zoom: 240%;
	left:90px;
	top:35px; }
}
@media screen and (max-width: 1000px) and (orientation: landscape){
#everything { position: absolute; zoom: 87%; left:-120px; top:0px;}
#stuff { overflow: auto; overflow: scroll; }
}
.error-message {
	color: #aa9194;
	font-size: 9px;
	padding-top:8px;
	letter-spacing: 1px;
	display: none;
}
</style>

<div id="everything">

<a href="/"><img style="position: absolute; left: 515px; top: 5px; z-index: 2;"
src="./img/logo.png"></a><br><br>

<a href="/account"><img style="position: absolute; left: 225px; top: 105px; z-index: 2;"
src="./img/account.png" onMouseOver="this.src='./img/accounthover.png'"
onMouseOut="this.src='./img/account.png'"></a><br><br>

<a href="https://shybunny.store" target="_blank">
<img style="position: absolute; left: 225px; top: 220px; z-index: 2;"
src="./img/store.png" onMouseOver="this.src='./img/storehover.png'"
onMouseOut="this.src='./img/store.png'"></a><br><br>

<a href="/notes"><img style="position: absolute; left: 222px; top: 375px; z-index: 2;"
src="./img/notes.png" onMouseOver="this.src='./img/noteshover.png'"
onMouseOut="this.src='./img/notes.png'"></a><br><br>

<a href="/thoughts"><img style="position: absolute; left: 220px; top: 505px; z-index: 2;"
src="./img/thoughts.png" onMouseOver="this.src='./img/thoughtshover.png'"
onMouseOut="this.src='./img/thoughts.png'"></a><br><br>

<a href="/games"><img style="position: absolute; left: 995px; top: 90px; z-index: 2;"
src="./img/games.png" onMouseOver="this.src='./img/gameshover.png'"
onMouseOut="this.src='./img/games.png'"></a><br><br>

<a href="/"><img style="position: absolute; left: 1010px; top: 248px; z-index: 2;"
src="./img/cafe.png" onMouseOver="this.src='./img/cafehover.png'"
onMouseOut="this.src='./img/cafe.png'"></a><br><br>

<a href="/"><img style="position: absolute; left: 1020px; top: 375px; z-index: 2;"
src="./img/bot.png" onMouseOver="this.src='./img/bothover.png'"
onMouseOut="this.src='./img/bot.png'"></a><br><br>

<a href="/series">
<img style="position: absolute; left: 1010px; top: 490px; z-index: 2;"
src="./img/series.png" onMouseOver="this.src='./img/serieshover.png'"
onMouseOut="this.src='./img/series.png'"></a><br><br>

<script>
	var submitedEmail, submitedPassword;
	async function submitTFA(){
		var lang = getCurrentLanguage();
		var code = document.getElementById('input_2fa_code_'+lang).value;
		if(code){
			if(code.length !== 6){
				//invalid code
				document.getElementById('input_2fa_error_invalid_'+lang).style.display = 'block';
				return;
			}
			//show loading overlay
			showLoadingOverlay();

			//submit to validation
			var req = await fetch(tfa_path+'/verify', {
				method: 'POST',
				credentials: 'include',
				headers:{
					'content-type': 'application/json'
				},
				body: JSON.stringify({
					code: code,
					email: submitedEmail
				})
			});
			//hides overlay
			hideLoadingOverlay();

			//code is correct
			if(req.status === 200){
				//remake request with provided arguments
				await sendForm(submitedEmail, submitedPassword);
			}
			else{
				//invalid code
				document.getElementById('input_2fa_error_invalid_'+lang).style.display = 'block';
				return;
			}
		}
	}

	async function sendForm(email, password){
		var lang = getCurrentLanguage();
		if(!email)
			email = document.getElementById('input_email_'+lang).value;
		if(!password)
			password = document.getElementById('input_password_'+lang).value;
		
		if(email){
			document.getElementById('input_email_error_invalid_'+lang).style.display = 'none';
			if(!validateEmail(email)){
				document.getElementById('input_email_error_invalid_'+lang).style.display = 'block';
				return;
			}
		}
		else return;

		if(!password){
			return;
		}

		//shows overlay
		showLoadingOverlay();

		//tries to login
		try{
			//saves last sent credentials
			submitedEmail = email;
			submitedPassword = password;

			document.getElementById('text_wentwrong_'+lang).style.display = 'none';
			var res = await fetch(api_path+'/auth/login',{
				'method': 'POST',
				credentials: 'include',
				headers:{
					'Content-Type': 'application/json'
				},
				body: JSON.stringify({
					email: email,
					password: password
				})
			})
			//wrong credentials
			document.getElementById('input_credentials_error_invalid_'+lang).style.display = 'none';
			if(!res.status || res.status >= 500){
				throw new Error('something went wrong');
			}
			else if(res.status < 200 || res.status >= 300){
				hideLoadingOverlay();
				document.getElementById('input_credentials_error_invalid_'+lang).style.display = 'block';
				return;
			}
			//if server requested TFA
			if(res.status === 202){
				hideLoadingOverlay();
				//hides every other field
				document.getElementById('input_email_en').style.display = 'none';
				document.getElementById('input_email_pt').style.display = 'none';
				document.getElementById('input_email_jp').style.display = 'none';
				document.getElementById('input_password_en').style.display = 'none';
				document.getElementById('input_password_pt').style.display = 'none';
				document.getElementById('input_password_jp').style.display = 'none';
				document.getElementById('linkbjinho').style.display = 'none';
				document.getElementById('input_submit').style.display = 'none';
				document.getElementById('link_register_en').style.display = 'none';
				document.getElementById('link_register_pt').style.display = 'none';
				document.getElementById('link_register_jp').style.display = 'none';
				document.getElementById('div_2fa').style.display = 'block';
				return;
			}
			//all ok, redirect
			else{
				//check if there is a URL return pending
				var dest = '/account/home.html';
				var urlParams = new URLSearchParams(window.location.search);
				var ret = urlParams.get('url_ret');
				if(ret){
					dest = decodeURI(ret);
				}
				window.location = dest;
			}
		}
		catch(err){
			hideLoadingOverlay();
			document.getElementById('text_wentwrong_'+lang).style.display = 'block';
		}
	}

	async function resendCode(to_primary){
		showLoadingOverlay();
		await fetch(tfa_path+'/resend', {
			method: 'POST',
			credentials: 'include',
			headers:{
				'content-type': 'application/json'
			},
			body: JSON.stringify({
				email: submitedEmail,
				to_primary: to_primary
			})
		})
		hideLoadingOverlay();
	}
</script>


<div id="base">

<div id="aaa">
<a id="linkzinho" href="https://middlepot.com" target="_blank" style="text-decoration: none;"><font color="#b09097">middlepot.com</font></a>
</div>

<img src="./img/base.png"/>

<div id="stuff">
<br>

<div style="position:relative; float:right; right:20px; top:-5px;">
<a><img src="./img/langbutton1.png" id="en" onclick="changeTranslation(this);"/></a>
<a><img src="./img/langbutton2.png" id="pt" onclick="changeTranslation(this);"/></a>
<a><img src="./img/langbutton3.png" id="jp" onclick="changeTranslation(this);"/></a>
</div>

<br><br><br>
<div style="position:absolute; left:5%; right:5%; line-height: 10px;">
<center>
<img id="img_login_en" src="./img/login_en.png"/>
<img id="img_login_pt" style="display: none;" src="./img/login_pt.png"/>
<img id="img_login_jp" style="display: none;" src="./img/login_jp.png"/>
<br><br><br><br>

<style>
tr { padding: 3px; text-align:center; }
td { padding: 0px; text-align:center; max-width:200px; }
th { padding: 3px; text-align:center; max-width:200px; font-weight:normal; padding:10px; }
::placeholder { color:#bda4a4; opacity: 1; font-size: 8px; }
::-ms-input-placeholder { color:#bda4a4; opacity: 1; font-size: 8px; }
</style>

<center>
<input id="input_email_en" placeholder="type your email" maxlength="50" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
<input id="input_email_pt" placeholder="digite seu email" maxlength="50" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center; display: none;" />
<input id="input_email_jp" placeholder="メールを入力してください" maxlength="50" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center; display: none;" />
	<p class="error-message" id="input_email_error_invalid_en">invalid email !</p>
	<p class="error-message" id="input_email_error_invalid_pt">email inválido !</p>
	<p class="error-message" id="input_email_error_invalid_jp">無効なメール !</p>
<br><br>
<input type="password" id="input_password_en" placeholder="type your password" maxlength="50" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
<input type="password" id="input_password_pt" placeholder="digite sua senha" maxlength="50" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center; display: none;" />
<input type="password" id="input_password_jp" placeholder="パスワードを入力" maxlength="50" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center; display: none;" />
	<p class="error-message" id="input_credentials_error_invalid_en">wrong email or password !</p>
	<p class="error-message" id="input_credentials_error_invalid_pt">email ou senha errados !</p>
	<p class="error-message" id="input_credentials_error_invalid_jp">メールアドレスまたはパスワードが間違っています !</p>
<br><br>
<a href="./forgot" id="linkbjinho" style="text-decoration: none;">
	<font color="#c9abb0" style="font-size:8px" id="link_forgot_en">forgot ?</font>
	<font color="#c9abb0" style="font-size:8px; display: none;" id="link_forgot_pt">esqueceu ?</font>
	<font color="#c9abb0" style="font-size:8px; display: none;" id="link_forgot_jp">忘れましたか ?</font>
</a><br><br>
<input id="input_submit" style="width:50px; height:31px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/okbutton.png); cursor: url(./img/cursorhover.png), progress; outline: none;" type="button" onclick="sendForm();" />
	<p class="error-message" id="text_wentwrong_en">something went wrong !</p>
	<p class="error-message" id="text_wentwrong_pt">algo deu errado !</p>
	<p class="error-message" id="text_wentwrong_jp">何かがうまくいかなかった !</p>
</center>
<center>
<div id="div_2fa" style="display: none;">
	<font color="#b8a2a3" style="font-size:10px;">
	<span id="text_2fa_sent_en">a 2fa code has been sent to your email !</span>
	<span id="text_2fa_sent_pt" style="display: none;">um código 2fa foi enviado para seu email !</span>
	<span id="text_2fa_sent_jp" style="display: none;">2faコードがあなたのメールアドレスに送信されました !</span>
	<br><br>
	<input id="input_2fa_code_en" oninput="this.value = this.value.toUpperCase();" placeholder="type your code" maxlength="6" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input id="input_2fa_code_pt" oninput="this.value = this.value.toUpperCase();" placeholder="digite seu código" maxlength="6" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center; display: none;" />
	<input id="input_2fa_code_jp" oninput="this.value = this.value.toUpperCase();" placeholder="コードを入力してください" maxlength="6" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center; display: none;" />
	<br><br>
	<style>.tfa_link{display: inline-block; text-decoration: none; color: #bca7a7; padding-bottom: 2px; border-bottom:1px dotted #c6a799;}</style>
	<a id="link_resend_en" class="tfa_link" onclick="resendCode(true);">send again</a>
	<a id="link_resend_pt" style="display: none;" class="tfa_link" onclick="resendCode(true);">mandar novamente</a>
	<a id="link_resend_jp" style="display: none;" class="tfa_link" onclick="resendCode(true);">もう一度送信</a>
	|
	<a id="link_send_second_en" class="tfa_link" onclick="resendCode(false);">send to second email</a>
	<a id="link_send_second_pt" style="display: none;" class="tfa_link" onclick="resendCode(false);">enviar para o segundo email</a>
	<a id="link_send_second_jp" style="display: none;" class="tfa_link" onclick="resendCode(false);">2番目のメールに送信</a>
	|
	<a id="link_disable_2fa_en" class="tfa_link" onclick="window.location = '/account/disable-tfa'">disable 2fa</a>
	<a id="link_disable_2fa_pt" style="display: none;" class="tfa_link" onclick="window.location = '/account/disable-tfa'">desabilitar 2fa</a>
	<a id="link_disable_2fa_jp" style="display: none;" class="tfa_link" onclick="window.location = '/account/disable-tfa'">2faを無効にする</a>
	<br><br>
	<input style="width:50px; height:31px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/okbutton.png); cursor: url(./img/cursorhover.png), progress; outline: none;" type="button" onclick="submitTFA();" />
		<p class="error-message" id="input_2fa_error_invalid_en">invalid code !</p>
		<p class="error-message" id="input_2fa_error_invalid_pt">código inválido !</p>
		<p class="error-message" id="input_2fa_error_invalid_jp">無効なコード !</p>
</div>
</center>

<br><br><br>

<a id="link_register_en" href="./register"><img src="./img/register_en.png"/></a>
<a id="link_register_pt" href="./register" style="display: none;"><img src="./img/register_pt.png"/></a>
<a id="link_register_jp" href="./register" style="display: none;"><img src="./img/register_jp.png"/></a>

<br><br><br>

</div>
</div>
</div>

</div>

<script>
	registerTranslatable('img_login');
	registerTranslatable('input_email');
	registerTranslatable('input_password');
	registerTranslatable('link_forgot');
	registerTranslatable('link_register');
	registerTranslatable('text_2fa_sent');
	registerTranslatable('input_2fa_code');
	registerTranslatable('link_resend');
	registerTranslatable('link_send_second');
	registerTranslatable('link_disable_2fa');
	autoTranslate();
</script>

</body>

<!--

　　　          ___   .--.
　　　    .--.-"   "-' .- |
　　　   / .-,`          .'   
　　　   \   `           \ 　　　　　　。・゜ 　♡   。　　・　゜ 　　　♡  
　　　    '.            ・ \　　　　　　　　　　　　　　　　　　　　　　　　♡　　　　♡ ゜・。。♡  
　　　      |  ・     ᴥ    。|　　　　・゜♡ ゜・。　　. * ・ ♡ °  . 。
　　　      \ 。            /.____　　　　　　　　　　　　　　　　　　♡.  
　　　     /`-.          ,'.'    `\　　　　　　　　　　　　　　　　　　。・゜　　　 ♡ ・ 。　　。・゜ ♡  
　　　  __/   \`-.____.-' `\      /　　　　　♡　。・゜      
　　　  | `---`'-'._/-`     \----'    _ 　　　　　　　　　　　♡　　　.　　　.♡ 
　　　  |,-'`  /             |    _.-' `\　　　　. * ・        
　　　 .'     /              |--'`     / |　　　　　　　　　　 ♡
　　　/      /\              `         | |
　　　|   .\/  \      .--. __          \ |　　　　　　　　　　　*.。middlepot.com 
　　　 '-'      '._       /  `\         /　　　　　　　　　　　　　　　　　　　　　　　ଘ(*´ ˘ `*)ഒ 。.*
　　　             `\    '     |------'`
　　　               \  |      |
　　　                \        /
 　　　                '._  _.'

-->

</html>