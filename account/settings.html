<html>
<head>

<!--

　　　          ___   .--.
　　　    .--.-"   "-' .- |
　　　   / .-,`          .'   
　　　   \   `           \ 　　　　　　。・゜ 　♡   。　　・　゜ 　　　♡  
　　　    '.            ・ \　　　　　　　　　　　　　　　　　　　　　　　　♡　　　　♡ ゜・。。♡  
　　　      |  ・     ᴥ    。|　　　　・゜♡ ゜・。　　. * ・ ♡ °  . 。
　　　      \ 。            /.____　　　　　　　　　　　　　　　　　　♡.  
　　　     /`-.          ,'.'    `\　　　　　　　　　　　　　　　　　　。・゜　　　 ♡ ・ 。　　。・゜ ♡  
　　　  __/   \`-.____.-' `\      /　　　　　♡　。・゜      
　　　  | `---`'-'._/-`     \----'    _ 　　　　　　　　　　　♡　　　.　　　.♡ 
　　　  |,-'`  /             |    _.-' `\　　　　. * ・        
　　　 .'     /              |--'`     / |　　　　　　　　　　 ♡
　　　/      /\              `         | |
　　　|   .\/  \      .--. __          \ |　　　　　　　　　　　*.。middlepot.com 
　　　 '-'      '._       /  `\         /　　　　　　　　　　　　　　　　　　　　　　　ଘ(*´ ˘ `*)ഒ 。.*
　　　             `\    '     |------'`
　　　               \  |      |
　　　                \        /
 　　　                '._  _.'

-->

<title>poofties™</title>

<link rel="shortcut icon" href="./img/favicon.png">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="title" content="꒰ ु ˊ ˘ `꒰ ू´ ˘ ` ू ꒱">
<meta name="description" content="poofties™">
<meta name="theme-color" content="#f7e9ed">
<meta property="og:url" content="https://poofties.club">
<meta property="og:title" content="꒰ ु ˊ ˘ `꒰ ू´ ˘ ` ू ꒱">
<meta property="og:description" content="poofties™">
<meta property="og:image" content="https://middlepot.com/img/poofties.jpg">
<meta property="og:image:type" content="image/jpeg">
<meta property="og:type" content="website">
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://poofties.club">
<meta property="twitter:title" content="꒰ ु ˊ ˘ `꒰ ू´ ˘ ` ू ꒱">
<meta property="twitter:description" content="poofties™">
<meta property="twitter:image" content="https://middlepot.com/img/poofties.jpg">

<meta name="google-site-verification" content="AQpCLBEAd7_D3wVPcwwnneOLo-FmxoEGGxfvudPQiJo" />

<style>
body{ 
  cursor: url(./img/cursor.png), progress;}
a:hover {cursor: url(./img/cursorhover.png), progress;
  
  }
 ::selection {text-shadow: 0 0 2px #cec1bb;color:#cec1bb}
 ::-moz-selection {text-shadow: 0 0 2px #cec1bb;color:#cec1bb}
</style>
<style type="text/css">
::-webkit-scrollbar {
width: 4px;
height: 4px;
background: transparent;
}
::-webkit-scrollbar-thumb {
background-color: #f9f0ed;
-webkit-border-radius: 0ex;
border: 1px dotted #e2d5d0;
}
#linkbjinho { color: #bca7a7; padding-bottom: 2px; border-bottom:1px dotted #c6a799; }
#linkzinho { padding-bottom: 2px; border-bottom:1px dotted #c6a799; }
#linkzinhoo { padding-bottom: 2px; border-bottom:1px dotted #e8c1c5; }</style>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
<script src="./js/cookies.js"></script>
<script src="./js/util.js"></script>

</head>

<body ondragstart="return false" style="background-image:url(./img/bg.jpg); background-repeat: no-repeat; background-size: cover; background-color:#fefbfb; font-family: Verdana; font-size: 10px;">
<style>
html {
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
}
#base {
position: absolute;
	left: 350px;
	top: 90px;
overflow-y:hidden;
overflow-x:hidden;
 }
#stuff {
position: absolute;
	left: 15px;
	top: 54px;
width: 594px;
height: 415px;
overflow-x:hidden;
z-index: 6;
 }
#aaa {
position: absolute;
	left: 273px;
	top: 522px;
width: 100px;
height: 100px;
overflow-x:hidden;
z-index: 3;
 }
@media screen and (max-width: 1000px) and (orientation: portrait){
#everything { position: absolute; zoom: 145%;
	left:590px;
	top:-150px;
    -webkit-transform: rotate(90deg);
    -moz-transform: rotate(90deg);
    -o-transform: rotate(90deg);
    -ms-transform: rotate(90deg);
    transform: rotate(90deg); }
#stuff { overflow: auto; overflow: scroll; }
}
@media screen and (min-width: 1700px) and (orientation: landscape){
#everything { position: absolute; zoom: 120%;
	left:90px;
	top:35px; }
#stuff { overflow: auto; overflow: scroll; }
}
@media screen and (min-width: 2000px) and (orientation: landscape){
#everything { position: absolute; zoom: 100%; left:-80px; top:0px;}
#stuff { overflow: auto; overflow: scroll; }
}
@media screen and (min-width: 3000px) and (orientation: landscape){
#everything { position: absolute; zoom: 240%;
	left:90px;
	top:35px; }
}
@media screen and (max-width: 1000px) and (orientation: landscape){
#everything { position: absolute; zoom: 80%; left:-50px; top:0px;}
#stuff { overflow: auto; overflow: scroll; }
}
.error-message {
	color: #aa9194;
	font-size: 9px;
	padding-top:8px;
	letter-spacing: 1px;
	margin: 0;
	display: none;
}
</style>

<div id="everything">

<a href="/"><img style="position: absolute; left: 515px; top: 5px; z-index: 2;"
src="./img/logo.png"></a><br><br>

<a href="/account"><img style="position: absolute; left: 225px; top: 105px; z-index: 2;"
src="./img/account.png" onMouseOver="this.src='./img/accounthover.png'"
onMouseOut="this.src='./img/account.png'"></a><br><br>

<a href="https://shybunny.store" target="_blank">
<img style="position: absolute; left: 225px; top: 220px; z-index: 2;"
src="./img/store.png" onMouseOver="this.src='./img/storehover.png'"
onMouseOut="this.src='./img/store.png'"></a><br><br>

<a href="/notes"><img style="position: absolute; left: 222px; top: 375px; z-index: 2;"
src="./img/notes.png" onMouseOver="this.src='./img/noteshover.png'"
onMouseOut="this.src='./img/notes.png'"></a><br><br>

<a href="/thoughts"><img style="position: absolute; left: 220px; top: 505px; z-index: 2;"
src="./img/thoughts.png" onMouseOver="this.src='./img/thoughtshover.png'"
onMouseOut="this.src='./img/thoughts.png'"></a><br><br>

<a href="/games"><img style="position: absolute; left: 995px; top: 90px; z-index: 2;"
src="./img/games.png" onMouseOver="this.src='./img/gameshover.png'"
onMouseOut="this.src='./img/games.png'"></a><br><br>

<a href="/"><img style="position: absolute; left: 1010px; top: 248px; z-index: 2;"
src="./img/cafe.png" onMouseOver="this.src='./img/cafehover.png'"
onMouseOut="this.src='./img/cafe.png'"></a><br><br>

<a href="/"><img style="position: absolute; left: 1020px; top: 375px; z-index: 2;"
src="./img/bot.png" onMouseOver="this.src='./img/bothover.png'"
onMouseOut="this.src='./img/bot.png'"></a><br><br>

<a href="/series">
<img style="position: absolute; left: 1010px; top: 490px; z-index: 2;"
src="./img/series.png" onMouseOver="this.src='./img/serieshover.png'"
onMouseOut="this.src='./img/series.png'"></a><br><br>

<script>
	async function changeSecondaryEmail(){
		var lang = getCurrentLanguage();
		var email = document.getElementById('input_email_'+lang).value;
		var email_secondary = document.getElementById('input_email_secondary_'+lang).value;
		var email_secondary_confirm = document.getElementById('input_email_secondary_confirm_'+lang).value;
		var password = document.getElementById('input_password_secondary_'+lang).value;
		if(email && email_secondary){
			document.getElementById('input_email_error_invalid_'+lang).style.display = 'none';
			document.getElementById('input_email_secondary_error_invalid_'+lang).style.display = 'none';
			document.getElementById('input_email_secondary_error_mismatch_'+lang).style.display = 'none';
			if(!validateEmail(email)){
				document.getElementById('input_email_error_invalid_'+lang).style.display = 'block';
				return;
			}
			if(!validateEmail(email_secondary)){
				document.getElementById('input_email_secondary_error_invalid_'+lang).style.display = 'block';
				return;
			}
			if(email_secondary !== email_secondary_confirm){
				document.getElementById('input_email_secondary_error_mismatch_'+lang).style.display = 'block';
				return;
			}
		}
		else return;

		if(!password || password.length < 8 || password.length > 32){
			document.getElementById('input_credentials_secondary_error_invalid_'+lang).style.display = 'block';
			return;
		}

		//shows overlay
		showLoadingOverlay();

		//tries to login
		try{
			document.getElementById('input_email_secondary_done_'+lang).style.display = 'none';
			document.getElementById('text_email_secondary_wentwrong_'+lang).style.display = 'none';
			document.getElementById('input_credentials_secondary_error_invalid_'+lang).style.display = 'none';
			var res = await fetch(api_path+'/settings/email-secondary/change',{
				'method': 'POST',
				credentials: 'include',
				headers:{
					'Content-Type': 'application/json'
				},
				body: JSON.stringify({
					email: email,
					email_secondary_new: email_secondary,
					password: password
				})
			})
			//wrong credentials
			document.getElementById('input_credentials_secondary_error_invalid_'+lang).style.display = 'none';
			if(!res.status || res.status >= 500){
				throw new Error('something went wrong');
			}
			else if(res.status === 401 || res.status === 400){
				hideLoadingOverlay();
				document.getElementById('input_credentials_secondary_error_invalid_'+lang).style.display = 'block';
				return;
			}
			else if(res.status === 404){
				hideLoadingOverlay();
				document.getElementById('input_credentials_secondary_error_invalid_'+lang).style.display = 'block';
				return;
			}
			else if(res.status < 200 || res.status >= 300){
				throw new Error('something went wrong');
			}
			//all ok, clear fields
			hideLoadingOverlay();
			document.getElementById('input_email_'+lang).value = '';
			document.getElementById('input_email_secondary_'+lang).value = '';
			document.getElementById('input_email_secondary_confirm_'+lang).value = '';
			document.getElementById('input_password_secondary_'+lang).value = '';
			document.getElementById('input_email_secondary_done_'+lang).style.display = 'block';
		}
		catch(err){
			hideLoadingOverlay();
			document.getElementById('text_email_secondary_wentwrong_'+lang).style.display = 'block';
		}
	}

	async function changeEmail(){
		var lang = getCurrentLanguage();
		var email = document.getElementById('input_current_email_'+lang).value;
		var email_new = document.getElementById('input_new_email_'+lang).value;
		var email_new_confirm = document.getElementById('input_new_email_confirm_'+lang).value;
		var password = document.getElementById('input_password_new_email_'+lang).value;
		if(email && email_new){
			document.getElementById('input_email_change_email_error_invalid_'+lang).style.display = 'none';
			document.getElementById('input_email_change_email_new_error_invalid_'+lang).style.display = 'none';
			document.getElementById('input_email_change_email_new_error_mismatch_'+lang).style.display = 'none';
			if(!validateEmail(email)){
				document.getElementById('input_email_change_email_error_invalid_'+lang).style.display = 'block';
				return;
			}
			if(!validateEmail(email_new)){
				document.getElementById('input_email_change_email_new_error_invalid_'+lang).style.display = 'block';
				return;
			}
			if(email_new !== email_new_confirm){
				document.getElementById('input_email_change_email_new_error_mismatch_'+lang).style.display = 'block';
				return;
			}
		}
		else return;

		if(!password || password.length < 8 || password.length > 32){
			document.getElementById('input_credentials_change_email_error_invalid_'+lang).style.display = 'block';
			return;
		}

		//shows overlay
		showLoadingOverlay();

		//tries to login
		try{
			document.getElementById('input_email_change_email_done_'+lang).style.display = 'none';
			document.getElementById('text_email_change_email_wentwrong_'+lang).style.display = 'none';
			document.getElementById('input_credentials_change_email_error_invalid_'+lang).style.display = 'none';
			var res = await fetch(api_path+'/settings/email/change',{
				'method': 'POST',
				credentials: 'include',
				headers:{
					'Content-Type': 'application/json'
				},
				body: JSON.stringify({
					email: email,
					email_new: email_new,
					password: password
				})
			})
			//wrong credentials
			document.getElementById('input_credentials_change_email_error_invalid_'+lang).style.display = 'none';
			if(!res.status || res.status >= 500){
				throw new Error('something went wrong');
			}
			else if(res.status === 401 || res.status === 400){
				hideLoadingOverlay();
				document.getElementById('input_credentials_change_email_error_invalid_'+lang).style.display = 'block';
				return;
			}
			else if(res.status === 404){
				hideLoadingOverlay();
				document.getElementById('input_credentials_change_email_error_invalid_'+lang).style.display = 'block';
				return;
			}
			else if(res.status === 409){
				hideLoadingOverlay();
				document.getElementById('input_credentials_change_email_error_used_'+lang).style.display = 'block';
				return;
			}
			else if(res.status < 200 || res.status >= 300){
				throw new Error('something went wrong');
			}
			//all ok, clear fields
			hideLoadingOverlay();
			document.getElementById('input_current_email_'+lang).value = '';
			document.getElementById('input_new_email_'+lang).value = '';
			document.getElementById('input_new_email_confirm_'+lang).value = '';
			document.getElementById('input_password_new_email_'+lang).value = '';
			document.getElementById('input_email_change_email_done_'+lang).style.display = 'block';
		}
		catch(err){
			hideLoadingOverlay();
			document.getElementById('text_email_change_email_wentwrong_'+lang).style.display = 'block';
		}
	}

	async function changePassword(){
		var lang = getCurrentLanguage();
		var email = document.getElementById('input_change_password_email_'+lang).value;
		var password = document.getElementById('input_change_password_current_'+lang).value;
		var password_new = document.getElementById('input_change_password_new_'+lang).value;
		var password_new_confirm = document.getElementById('input_change_password_new_confirm_'+lang).value;
		//clear errors
		document.getElementById('input_email_change_password_error_invalid_'+lang).style.display = 'none';
		document.getElementById('input_password_error_length_'+lang).style.display = 'none';
		document.getElementById('input_password_error_mismatch_'+lang).style.display = 'none';
		document.getElementById('input_credentials_change_password_error_invalid_'+lang).style.display = 'none';
		document.getElementById('text_change_password_wentwrong_'+lang).style.display = 'none';
		document.getElementById('input_change_password_done_'+lang).style.display = 'none';
		//validate input
		if(email){
			if(!validateEmail(email)){
				document.getElementById('input_email_change_password_error_invalid_'+lang).style.display = 'block';
				return;
			}
		}
		else return;

		if(!password || password.length < 8 || password.length > 32){
			document.getElementById('input_credentials_change_password_error_invalid_'+lang).style.display = 'block';
			return;
		}

		if(!password_new || password_new.length < 8 || password_new.length > 32){
			document.getElementById('input_password_error_length_'+lang).style.display = 'block';
			return;
		}
		if(password_new !== password_new_confirm){
			document.getElementById('input_password_error_mismatch_'+lang).style.display = 'block';
			return;
		}

		//shows overlay
		showLoadingOverlay();

		//tries to login
		try{
			var res = await fetch(api_path+'/settings/password/change',{
				'method': 'POST',
				credentials: 'include',
				headers:{
					'Content-Type': 'application/json'
				},
				body: JSON.stringify({
					email: email,
					password: password,
					password_new: password_new
				})
			})
			//wrong credentials
			if(!res.status || res.status >= 500){
				throw new Error('something went wrong');
			}
			else if(res.status === 401 || res.status === 400 || res.status === 404){
				hideLoadingOverlay();
				document.getElementById('input_credentials_change_password_error_invalid_'+lang).style.display = 'block';
				return;
			}
			else if(res.status < 200 || res.status >= 300){
				throw new Error('something went wrong');
			}
			//all ok, clear fields
			hideLoadingOverlay();
			document.getElementById('input_change_password_email_'+lang).value = '';
			document.getElementById('input_change_password_current_'+lang).value = '';
			document.getElementById('input_change_password_new_'+lang).value = '';
			document.getElementById('input_change_password_new_confirm_'+lang).value = '';
			document.getElementById('input_change_password_done_'+lang).style.display = 'block';
		}
		catch(err){
			hideLoadingOverlay();
			document.getElementById('text_change_password_wentwrong_'+lang).style.display = 'block';
		}
	}

	var submitedEmail, submitedPassword;
	async function submitTFA(){
		var lang = getCurrentLanguage();
		var code = document.getElementById('input_2fa_code_'+lang).value;
		if(code){
			if(code.length !== 6){
				//invalid code
				document.getElementById('input_2fa_error_invalid_'+lang).style.display = 'block';
				return;
			}
			//show loading overlay
			showLoadingOverlay();

			//submit to validation
			var req = await fetch(tfa_path+'/verify', {
				method: 'POST',
				credentials: 'include',
				headers:{
					'content-type': 'application/json'
				},
				body: JSON.stringify({
					code: code,
					email: submitedEmail
				})
			});
			//hides overlay
			hideLoadingOverlay();

			//code is correct
			if(req.status === 200){
				//remake request with provided arguments
				await deactivateTFA(submitedEmail, submitedPassword);
			}
			else{
				//invalid code
				document.getElementById('input_2fa_error_invalid_'+lang).style.display = 'block';
				return;
			}
		}
	}

	async function deactivateTFA(email, password){
		var lang = getCurrentLanguage();
		if(!email)
			email = document.getElementById('input_deactivate_2fa_email_'+lang).value;
		if(!password)
			password = document.getElementById('input_deactivate_2fa_password_'+lang).value;
		
		if(email){
			document.getElementById('input_email_deactivate_2fa_error_invalid_'+lang).style.display = 'none';
			if(!validateEmail(email)){
				document.getElementById('input_email_deactivate_2fa_error_invalid_'+lang).style.display = 'block';
				return;
			}
		}
		else return;

		if(!password){
			return;
		}

		//tries to login
		try{
			//shows overlay
			showLoadingOverlay();

			//saves last sent credentials
			submitedEmail = email;
			submitedPassword = password;

			document.getElementById('text_deactivate_2fa_wentwrong_'+lang).style.display = 'none';
			var res = await fetch(tfa_path+'/deactivate',{
				'method': 'POST',
				credentials: 'include',
				headers:{
					'Content-Type': 'application/json'
				},
				body: JSON.stringify({
					email: email,
					password: password
				})
			});
			//wrong credentials
			document.getElementById('input_credentials_deactivate_2fa_error_invalid_'+lang).style.display = 'none';
			if(!res.status || res.status >= 500){
				throw new Error('something went wrong');
			}
			//if server requested TFA
			else if(res.status === 202){
				showTFA();
				lastRequest = deactivateTFA;
				lastRequestArgs = [email, password];
				lastUsedEmail = email;
				return;
			}
			else if(res.status === 401 || res.status === 400){
				document.getElementById('input_credentials_deactivate_2fa_error_invalid_'+lang).style.display = 'block';
				return;
			}
			else if(res.status < 200 || res.status >= 300){
				throw new Error('unknown response');
			}
			//all ok, refresh page
			else{
				location.reload();
			}
		}
		catch(err){
			console.log(err);
			document.getElementById('text_deactivate_2fa_wentwrong_'+lang).style.display = 'block';
		}
		finally{
			hideLoadingOverlay();
		}
	}
</script>

<div id="base">

<div id="aaa">
<a id="linkzinho" href="https://middlepot.com" target="_blank" style="text-decoration: none;"><font color="#b09097">middlepot.com</font></a>
</div>

<img src="./img/base.png"/>

<div id="stuff">
<br>
　　<a href="./home" id="linkbjinho" style="text-decoration: none;"><font color="#cfb4b8">home</a></font>

<div style="position:absolute; left:5%; right:5%; line-height: 10px;">
<center>
<img id="img_login_settings_en" src="./img/loginsettings_en.png"/>
<img id="img_login_settings_pt" style="display: none;" src="./img/loginsettings_pt.png"/>
<img id="img_login_settings_jp" style="display: none;" src="./img/loginsettings_jp.png"/>
<br><br><br>

		<div style="line-height: 15px;">
		<font color="#b8a2a3" style="font-size:10px;">
		<span id="text_monthly_updates_en">poofties club monthly updates :</span>
		<span id="text_monthly_updates_pt" style="display: none;">updates mensais do poofties club :</span>
		<span id="text_monthly_updates_jp" style="display: none;">poofties club月間アップデート :</span>
		</font>
		</div>
		<br></center>
		<!-- </div> -->
	
		<center>
	<div style="line-height:2px; margin-left:-10px;"><sub><sub><input id="checkbox-account-deletion" type="checkbox" class="regular-checkbox" /><label for="checkbox-account-deletion"></label></sub></sub>
		<font color="#c9abb0" style="font-size:9px; text-align:left;">
			<span id="text_confirm_monthly_updates_en">i want to receive the emails.</span>
			<span id="text_confirm_monthly_updates_pt" style="display: none;">eu quero receber os emails.</span>
			<span id="text_confirm_monthly_updates_jp" style="display: none;">メール配信を希望する。</span></div>
		</font>
		<p class="error-message" id="input_activated_monthly_done_en">activated !</p>
		<p class="error-message" id="input_activated_monthly_done_pt">ativado !</p>
		<p class="error-message" id="input_activated_monthly_done_jp">アクティベート !</p>
		<p class="error-message" id="input_deactivated_monthly_done_en">deactivated !</p>
		<p class="error-message" id="input_deactivated_monthly_done_pt">desativado !</p>
		<p class="error-message" id="input_deactivated_monthly_done_jp">非アクティブ化 !</p>
		<p class="error-message" id="text_monthly_updates_wentwrong_en">something went wrong !</p>
		<p class="error-message" id="text_monthly_updates_wentwrong_pt">algo deu errado !</p>
		<p class="error-message" id="text_monthly_updates_wentwrong_jp">何かがうまくいかなかった !</p>
<br><br>
<div style="line-height:2px; margin-left:-10px;">
		<font color="#c9abb0" style="font-size:9px; text-align:left;">
<a href="./updates" id="linkbjinho" style="text-decoration: none; color:#c9abb0;">
			<span id="text_archive_monthly_updates_en">read the past months' archive</span>
			<span id="text_archive_monthly_updates_pt" style="display: none;">ler o arquivo dos últimos meses</span>
			<span id="text_archive_monthly_updates_jp" style="display: none;">過去数ヶ月のアーカイブを読む</span></div><br><br>
		</font>
</a>
		</center>
	
	<br><br>

<div id="div_inputs"><center>
	<!-- <div style="line-height: 15px;"> -->
	<font color="#b8a2a3" style="font-size:10px;">
	<span id="text_add_secondary_email_en">add or update secondary email :</span>
	<span id="text_add_secondary_email_pt" style="display: none;">adicionar ou atualizar email secundário :</span>
	<span id="text_add_secondary_email_jp" style="display: none;">2次メールを追加または更新する :</span>
	<br></font>
	<!-- </div> -->
	<br><br>

	<center>
	<input id="input_email_en" placeholder="type your email" maxlength="50" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input id="input_email_pt" placeholder="digite seu email" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input id="input_email_jp" placeholder="メールを入力してください" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
		<p class="error-message" id="input_email_error_invalid_en">invalid email !</p>
		<p class="error-message" id="input_email_error_invalid_pt">email inválido !</p>
		<p class="error-message" id="input_email_error_invalid_jp">無効なメール !</p>
	<br><br>
	<input id="input_email_secondary_en" placeholder="type secondary email" maxlength="50" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input id="input_email_secondary_pt" placeholder="digite email secundário" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input id="input_email_secondary_jp" placeholder="2次メールを入力してください" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
		<p class="error-message" id="input_email_secondary_error_invalid_en">invalid email !</p>
		<p class="error-message" id="input_email_secondary_error_invalid_pt">email inválido !</p>
		<p class="error-message" id="input_email_secondary_error_invalid_jp">無効なメール !</p>
	<br><br>
	<input id="input_email_secondary_confirm_en" placeholder="type your email again" maxlength="50" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input id="input_email_secondary_confirm_pt" placeholder="digite seu email de novo" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input id="input_email_secondary_confirm_jp" placeholder="メールをもう一度入力してください" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
		<p class="error-message" id="input_email_secondary_error_mismatch_en">emails don't match !</p>
		<p class="error-message" id="input_email_secondary_error_mismatch_pt">emails não são iguais !</p>
		<p class="error-message" id="input_email_secondary_error_mismatch_jp">メールが一致しません !</p>
	<br><br>
	<input type="password" id="input_password_secondary_en" placeholder="type your password" maxlength="50" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input type="password" id="input_password_secondary_pt" placeholder="digite sua senha" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input type="password" id="input_password_secondary_jp" placeholder="パスワードを入力" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
		<p class="error-message" id="input_credentials_secondary_error_invalid_en">wrong email or password !</p>
		<p class="error-message" id="input_credentials_secondary_error_invalid_pt">email ou senha errados !</p>
		<p class="error-message" id="input_credentials_secondary_error_invalid_jp">メールアドレスまたはパスワードが間違っています !</p>
	<br><br>
		<p class="error-message" id="input_email_secondary_done_en">done !</p>
		<p class="error-message" id="input_email_secondary_done_pt">pronto !</p>
		<p class="error-message" id="input_email_secondary_done_jp">かんりょう !</p>
	<input style="width:50px; height:31px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/okbutton.png); cursor: url(./img/cursorhover.png), progress; outline: none;" type="button" onclick="changeSecondaryEmail();"/>
		<p class="error-message" id="text_email_secondary_wentwrong_en">something went wrong !</p>
		<p class="error-message" id="text_email_secondary_wentwrong_pt">algo deu errado !</p>
		<p class="error-message" id="text_email_secondary_wentwrong_jp">何かがうまくいかなかった !</p>
	</center>

	<!-- <div style="position:absolute; left:5%; right:5%; line-height: 10px;"> -->
	<br><br><br>
	<div style="line-height: 15px;">
	<font color="#b8a2a3" style="font-size:10px;">
	<span id="text_change_email_en">change my login email :</span>
	<span id="text_change_email_pt" style="display: none;">mudar meu email de login :</span>
	<span id="text_change_email_jp" style="display: none;">ログインメールを変更する :</span>
	<br></font>
	</div>
	<br>
	<!-- </div> -->

	<style>
	tr { padding: 3px; text-align:center; }
	td { padding: 0px; text-align:center; max-width:200px; }
	th { padding: 3px; text-align:center; max-width:200px; font-weight:normal; padding:10px; }
	::placeholder { color:#bda4a4; opacity: 1; font-size: 8px; }
	::-ms-input-placeholder { color:#bda4a4; opacity: 1; font-size: 8px; }
	</style>

	<center>
	<input id="input_current_email_en" placeholder="type current email" maxlength="50" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input id="input_current_email_pt" placeholder="digite email atual" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input id="input_current_email_jp" placeholder="現在のメールを入力してください" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
		<p class="error-message" id="input_email_change_email_error_invalid_en">invalid email !</p>
		<p class="error-message" id="input_email_change_email_error_invalid_pt">email inválido !</p>
		<p class="error-message" id="input_email_change_email_error_invalid_jp">無効なメール !</p>
	<br><br>
	<a href="./forgot" id="linkbjinho" style="text-decoration: none;">
		<font color="#c9abb0" style="font-size:8px" id="link_forgot_en">forgot ?</font>
		<font color="#c9abb0" style="font-size:8px; display: none;" id="link_forgot_pt">esqueceu ?</font>
		<font color="#c9abb0" style="font-size:8px; display: none;" id="link_forgot_jp">忘れましたか ?</font>
	</a>
	<br><br>
	<input id="input_new_email_en" placeholder="type new email" maxlength="50" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input id="input_new_email_pt" placeholder="digite novo email" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input id="input_new_email_jp" placeholder="新しいのメールを入力してください" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
		<p class="error-message" id="input_email_change_email_new_error_invalid_en">invalid email !</p>
		<p class="error-message" id="input_email_change_email_new_error_invalid_pt">email inválido !</p>
		<p class="error-message" id="input_email_change_email_new_error_invalid_jp">無効なメール !</p>
		<p class="error-message" id="input_credentials_change_email_error_used_en">email already in use !</p>
		<p class="error-message" id="input_credentials_change_email_error_used_pt">email já está em uso !</p>
		<p class="error-message" id="input_credentials_change_email_error_used_jp">この電子メールは既に利用されています !</p>
	<br><br>
	<input id="input_new_email_confirm_en" placeholder="type new email again" maxlength="50" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input id="input_new_email_confirm_pt" placeholder="digite novo email de novo" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input id="input_new_email_confirm_jp" placeholder="新しいメールをもう一度入力してください" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
		<p class="error-message" id="input_email_change_email_new_error_mismatch_en">emails don't match !</p>
		<p class="error-message" id="input_email_change_email_new_error_mismatch_pt">emails não são iguais !</p>
		<p class="error-message" id="input_email_change_email_new_error_mismatch_jp">メールが一致しません !</p>
	<br><br>
	<input type="password" id="input_password_new_email_en" placeholder="type your password" maxlength="50" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input type="password" id="input_password_new_email_pt" placeholder="digite sua senha" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input type="password" id="input_password_new_email_jp" placeholder="パスワードを入力" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
		<p class="error-message" id="input_credentials_change_email_error_invalid_en">wrong email or password !</p>
		<p class="error-message" id="input_credentials_change_email_error_invalid_pt">email ou senha errados !</p>
		<p class="error-message" id="input_credentials_change_email_error_invalid_jp">メールアドレスまたはパスワードが間違っています !</p>
	<br><br>
		<p class="error-message" id="input_email_change_email_done_en">done !</p>
		<p class="error-message" id="input_email_change_email_done_pt">pronto !</p>
		<p class="error-message" id="input_email_change_email_done_jp">かんりょう !</p>
	<input style="width:50px; height:31px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/okbutton.png); cursor: url(./img/cursorhover.png), progress; outline: none;" type="button" onclick="changeEmail();"/>
		<p class="error-message" id="text_email_change_email_wentwrong_en">something went wrong !</p>
		<p class="error-message" id="text_email_change_email_wentwrong_pt">algo deu errado !</p>
		<p class="error-message" id="text_email_change_email_wentwrong_jp">何かがうまくいかなかった !</p>
	</center>

	<!-- <div style="position:absolute; left:5%; right:5%; line-height: 10px;"> -->
	<br><br><br>
	<div style="line-height: 15px;">
	<font color="#b8a2a3" style="font-size:10px;">
	<span id="text_change_password_en">change my password :</span>
	<span id="text_change_password_pt" style="display: none;">mudar minha senha :</span>
	<span id="text_change_password_jp" style="display: none;">パスワードを変更する :</span>
	<br></font>
	</div>
	<br><br>
	<!-- </div> -->

	<center>
	<input id="input_change_password_email_en" placeholder="type your email" maxlength="50" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input id="input_change_password_email_pt" placeholder="digite seu email" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input id="input_change_password_email_jp" placeholder="メールを入力してください" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
		<p class="error-message" id="input_email_change_password_error_invalid_en">invalid email !</p>
		<p class="error-message" id="input_email_change_password_error_invalid_pt">email inválido !</p>
		<p class="error-message" id="input_email_change_password_error_invalid_jp">無効なメール !</p>
	<br><br>
	<input type="password" id="input_change_password_current_en" placeholder="type current password" maxlength="50" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input type="password" id="input_change_password_current_pt" placeholder="digite senha atual" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input type="password" id="input_change_password_current_jp" placeholder="現在のパスワードを入力します" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
		<p class="error-message" id="input_credentials_change_password_error_invalid_en">wrong email or password !</p>
		<p class="error-message" id="input_credentials_change_password_error_invalid_pt">email ou senha errados !</p>
		<p class="error-message" id="input_credentials_change_password_error_invalid_jp">メールアドレスまたはパスワードが間違っています !</p>
	<br><br>
	<a href="./forgot" id="linkbjinho" style="text-decoration: none;">
		<font color="#c9abb0" style="font-size:8px" id="link_change_password_forgot_en">forgot ?</font>
		<font color="#c9abb0" style="font-size:8px; display: none;" id="link_change_password_forgot_pt">esqueceu ?</font>
		<font color="#c9abb0" style="font-size:8px; display: none;" id="link_change_password_forgot_jp">忘れましたか ?</font>
	</a>
	<br><br>
	<input type="password" id="input_change_password_new_en" placeholder="type new password" maxlength="50" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input type="password" id="input_change_password_new_pt" placeholder="digite nova senha" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input type="password" id="input_change_password_new_jp" placeholder="新しいパスワードを入力します" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
		<p class="error-message" id="input_password_error_length_en">the password must have between 8 and 32 characters !</p>
		<p class="error-message" id="input_password_error_length_pt">a senha deve ter entre 8 e 32 caracteres !</p>
		<p class="error-message" id="input_password_error_length_jp">パスワードは8~32もじであるひつようがあります。</p>
	<br><br>
	<input type="password" id="input_change_password_new_confirm_en" placeholder="type new password again" maxlength="50" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input type="password" id="input_change_password_new_confirm_pt" placeholder="digite nova senha de novo" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input type="password" id="input_change_password_new_confirm_jp" placeholder="新しいパスワードをもう一度入力します" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
		<p class="error-message" id="input_password_error_mismatch_en">passwords don't match !</p>
		<p class="error-message" id="input_password_error_mismatch_pt">senhas não são iguais !</p>
		<p class="error-message" id="input_password_error_mismatch_jp">パスワードが一致しません !</p>
	<br><br>
		<p class="error-message" id="input_change_password_done_en">done !</p>
		<p class="error-message" id="input_change_password_done_pt">pronto !</p>
		<p class="error-message" id="input_change_password_done_jp">かんりょう !</p>
	<input style="width:50px; height:31px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/okbutton.png); cursor: url(./img/cursorhover.png), progress; outline: none;" type="button" onclick="changePassword();"/>
		<p class="error-message" id="text_change_password_wentwrong_en">something went wrong !</p>
		<p class="error-message" id="text_change_password_wentwrong_pt">algo deu errado !</p>
		<p class="error-message" id="text_change_password_wentwrong_jp">何かがうまくいかなかった !</p>
	</center>

	<!-- <div style="position:absolute; left:5%; right:5%; line-height: 10px;"> -->
	<br><br><br>
	<div style="line-height: 15px;">
	<font color="#b8a2a3" style="font-size:10px;">
	<span id="text_deactivate_2fa_en">deactivate two-factor authentication :</span>
	<span id="text_deactivate_2fa_pt" style="display: none;">desativar autenticação de dois fatores :</span>
	<span id="text_deactivate_2fa_jp" style="display: none;">2要素認証を無効にします :</span>
	<br></font>
	</div>
	<br><br>

	<center>
	<input id="input_deactivate_2fa_email_en" placeholder="type your email" maxlength="50" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input id="input_deactivate_2fa_email_pt" placeholder="digite seu email" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input id="input_deactivate_2fa_email_jp" placeholder="メールを入力してください" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
		<p class="error-message" id="input_email_deactivate_2fa_error_invalid_en">invalid email !</p>
		<p class="error-message" id="input_email_deactivate_2fa_error_invalid_pt">email inválido !</p>
		<p class="error-message" id="input_email_deactivate_2fa_error_invalid_jp">無効なメール !</p>
	<br><br>
	<input type="password" id="input_deactivate_2fa_password_en" placeholder="type your password" maxlength="50" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input type="password" id="input_deactivate_2fa_password_pt" placeholder="digite sua senha" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input type="password" id="input_deactivate_2fa_password_jp" placeholder="パスワードを入力" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
		<p class="error-message" id="input_credentials_deactivate_2fa_error_invalid_en">wrong email or password !</p>
		<p class="error-message" id="input_credentials_deactivate_2fa_error_invalid_pt">email ou senha errados !</p>
		<p class="error-message" id="input_credentials_deactivate_2fa_error_invalid_jp">メールアドレスまたはパスワードが間違っています !</p>
	<br><br>
	<a href="./forgot" id="linkbjinho" style="text-decoration: none;">
		<font color="#c9abb0" style="font-size:8px" id="link_deactivate_2fa_forgot_en">forgot ?</font>
		<font color="#c9abb0" style="font-size:8px; display: none;" id="link_deactivate_2fa_forgot_pt">esqueceu ?</font>
		<font color="#c9abb0" style="font-size:8px; display: none;" id="link_deactivate_2fa_forgot_jp">忘れましたか ?</font>
	</a>
	<br><br>
	<input style="width:50px; height:31px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/okbutton.png); cursor: url(./img/cursorhover.png), progress; outline: none;" type="button" onclick="deactivateTFA();"/>
		<p class="error-message" id="text_deactivate_2fa_wentwrong_en">something went wrong !</p>
		<p class="error-message" id="text_deactivate_2fa_wentwrong_pt">algo deu errado !</p>
		<p class="error-message" id="text_deactivate_2fa_wentwrong_jp">何かがうまくいかなかった !</p>	
	</center>
	<!-- </div> -->

<style>
	label {
		display: inline;
	}
	
	.regular-checkbox {
		-webkit-appearance: none;
		background-color: #faf5f5;
		border: 1px solid #d9caca;
		box-shadow: 0 1px 2px rgba(0,0,0,0.05), inset 0px -15px 10px -12px rgba(0,0,0,0.05);
		padding: 8px;
		border-radius: 3px;
		display: inline-block;
		position: relative;
		cursor: url(./img/cursorhover.png), progress;
	}
	
	.regular-checkbox:active, .regular-checkbox:checked:active {
		box-shadow: 0 1px 2px rgba(0,0,0,0.05), inset 0px 1px 3px rgba(0,0,0,0.1);
	}
	
	.regular-checkbox:checked {
		background-color: #faf5f5;
		border: 1px solid #f2e9e9;
		box-shadow: 0 1px 2px rgba(0,0,0,0.05), inset 0px -15px 10px -12px rgba(0,0,0,0.05), inset 15px 10px -12px rgba(255,255,255,0.1);
		color: #e0d1d1;
	}
	
	.regular-checkbox:checked:after {
		content: '♡';
		font-size: 10px;
		position: absolute;
		top: 0px;
		left: 4px;
		color: #b5a1a4;
	}
</style>
	
	<style>
	.custom-select {
		position: relative;
		font-family: verdana;
		font-size: 8px;
		text-align: center;
		letter-spacing: 1px;
		cursor: url(./img/cursorhover.png), progress;
	}
	
	.custom-select select {
		display: none;
		cursor: url(./img/cursorhover.png), progress;
	}
	
	.select-selected {
		background-color: #faf5f5;
		border: 1px solid #d9caca;
		cursor: url(./img/cursorhover.png), progress;
		box-shadow: 0 1px 2px rgba(0,0,0,0.05), inset 0px -15px 10px -12px rgba(0,0,0,0.05);
	}
	
	.select-selected:after {
		position: absolute;
		content: "";
		top: 14px;
		right: 10px;
		width: 0;
		height: 0;
		border: 1px solid #ede3e3;
		box-shadow: 0 1px 2px rgba(0,0,0,0.05), inset 0px -15px 10px -12px rgba(0,0,0,0.05);
		cursor: url(./img/cursorhover.png), progress;
	}
	
	.select-selected.select-arrow-active:after {
		border-color: transparent transparent #fff transparent;
		top: 7px;
		cursor: url(./img/cursorhover.png), progress;
	}
	
	.select-items div,.select-selected {
		color: #b5a1a4;
		padding: 5px 16px;
		border: 1px solid #ede3e3;
		border-radius: 3px;
		box-shadow: 0 1px 2px rgba(0,0,0,0.05), inset 0px -15px 10px -12px rgba(0,0,0,0.05);
		cursor: url(./img/cursorhover.png), progress;
		user-select: none;
	}
	
	.select-items {
		position: absolute;
		background-color: #faf5f5;
		top: 100%;
		left: 0;
		right: 0;
		z-index: 99;
	}
	
	.select-hide {
		display: none;
	}
	
	.select-items div:hover, .same-as-selected {
		background-color: rgba(251, 249, 249.05);
	}
	</style>
	
		<br><br><br>
		<div style="line-height: 15px;">
		<font color="#b8a2a3" style="font-size:10px;">
		<span id="text_delete_products_en">delete my poofties products data :</span>
		<span id="text_delete_products_pt" style="display: none;">deletar meus dados de produtos poofties :</span>
		<span id="text_delete_products_jp" style="display: none;">私のpoofties製品のデータを削除する :</span>
		<br></font>
		</div>
		<br><br>
		<!-- </div> -->
	
		<center>
	
	<div class="custom-select" style="width:120px;">
		<select id="select-product-deletion">
		<option value="0" id="select-product-deletion-default">click to select</option>
		<option value="myfluffylife">my fluffy life</option>
		</select>
	</div>
	<br>
	
	<script>
	function customizeSelects(){
		translateSelects();
		var x, i, j, l, ll, selElmnt, a, b, c;
		x = document.getElementsByClassName("custom-select");
		l = x.length;
		for (i = 0; i < l; i++) {
			selElmnt = x[i].getElementsByTagName("select")[0];
			ll = selElmnt.length;
			a = document.createElement("DIV");
			a.setAttribute("class", "select-selected");
			a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;
			x[i].appendChild(a);
			b = document.createElement("DIV");
			b.setAttribute("class", "select-items select-hide");
			for (j = 1; j < ll; j++) {
				c = document.createElement("DIV");
				c.innerHTML = selElmnt.options[j].innerHTML;
				c.addEventListener("click", function(e) {
					var y, i, k, s, h, sl, yl;
					s = this.parentNode.parentNode.getElementsByTagName("select")[0];
					sl = s.length;
					h = this.parentNode.previousSibling;
					for (i = 0; i < sl; i++) {
					if (s.options[i].innerHTML == this.innerHTML) {
						s.selectedIndex = i;
						h.innerHTML = this.innerHTML;
						y = this.parentNode.getElementsByClassName("same-as-selected");
						yl = y.length;
						for (k = 0; k < yl; k++) {
							y[k].removeAttribute("class");
						}
						this.setAttribute("class", "same-as-selected");
						break;
					}
					}
					h.click();
				});
				b.appendChild(c);
			}
			x[i].appendChild(b);
			a.addEventListener("click", function(e) {
				e.stopPropagation();
				closeAllSelect(this);
				this.nextSibling.classList.toggle("select-hide");
				this.classList.toggle("select-arrow-active");
			});
		}
	}
	function closeAllSelect(elmnt) {
		var x, y, i, xl, yl, arrNo = [];
		x = document.getElementsByClassName("select-items");
		y = document.getElementsByClassName("select-selected");
		xl = x.length;
		yl = y.length;
		for (i = 0; i < yl; i++) {
		if (elmnt == y[i]) {
			arrNo.push(i)
		} else {
			y[i].classList.remove("select-arrow-active");
		}
		}
		for (i = 0; i < xl; i++) {
		if (arrNo.indexOf(i)) {
			x[i].classList.add("select-hide");
		}
		}
	}
	function translateSelects(){
		var lang = getCurrentLanguage();
		var defaultEn = 'click to select';
		var defaultPt = 'selecione aqui';
		var defaultJp = 'クリックで選択';
		var defaultEl = document.getElementById('select-product-deletion-default');
		if(lang === 'en'){
			defaultEl.innerHTML = defaultEn;
		}
		else if(lang === 'pt'){
			defaultEl.innerHTML = defaultPt;
		}
		else if(lang === 'jp'){
			defaultEl.innerHTML = defaultJp;
		}
	}
	document.addEventListener("click", closeAllSelect);
	document.addEventListener("TranslationLoaded", customizeSelects);
	</script>
	
		<input id="input_delete_products_email_en" placeholder="type your email" maxlength="50" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
		<input id="input_delete_products_email_pt" placeholder="digite seu email" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
		<input id="input_delete_products_email_jp" placeholder="メールを入力してください" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
			<p class="error-message" id="input_email_delete_products_error_invalid_en">invalid email !</p>
			<p class="error-message" id="input_email_delete_products_error_invalid_pt">email inválido !</p>
			<p class="error-message" id="input_email_delete_products_error_invalid_jp">無効なメール !</p>
		<br><br>
		<input type="password" id="input_delete_products_password_en" placeholder="type your password" maxlength="50" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
		<input type="password" id="input_delete_products_password_pt" placeholder="digite sua senha" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
		<input type="password" id="input_delete_products_password_jp" placeholder="パスワードを入力" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
			<p class="error-message" id="input_credentials_delete_products_error_invalid_en">wrong email or password !</p>
			<p class="error-message" id="input_credentials_delete_products_error_invalid_pt">email ou senha errados !</p>
			<p class="error-message" id="input_credentials_delete_products_error_invalid_jp">メールアドレスまたはパスワードが間違っています !</p>
		<br><br>
		<a href="./forgot" id="linkbjinho" style="text-decoration: none;">
			<font color="#c9abb0" style="font-size:8px" id="link_delete_products_forgot_en">forgot ?</font>
			<font color="#c9abb0" style="font-size:8px; display: none;" id="link_delete_products_forgot_pt">esqueceu ?</font>
			<font color="#c9abb0" style="font-size:8px; display: none;" id="link_delete_products_forgot_jp">忘れましたか ?</font>
		</a>
		<br><br>
		<div style="line-height:2px; margin-left:-10px;"><sub><sub><input id="checkbox-product-deletion" type="checkbox" class="regular-checkbox" /><label for="checkbox-product-deletion"></label></sub></sub>
		<font color="#c9abb0" style="font-size:8px; text-align:left;">
			<span id="text_confirm_delete_products_en">i agree with losing permanently my data<br><br><br><br><br>from the selected poofties product.</span>
			<span id="text_confirm_delete_products_pt" style="display: none;">concordo em perder permanentemente meu acesso<br><br><br><br><br>a todos os produtos poofties que adquiri nesta conta.</span>
			<span id="text_confirm_delete_products_jp" style="display: none;">このアカウントで購入したすべてのpoofties製品<br><br><br><br><br>へのアクセスを永久に失うことに同意します。</span>
		</font>
		</div><br>
		
		<p class="error-message" id="text_delete_products_wentwrong_en">something went wrong !</p>
		<p class="error-message" id="text_delete_products_wentwrong_pt">algo deu errado !</p>
		<p class="error-message" id="text_delete_products_wentwrong_jp">何かがうまくいかなかった !</p>
		<p class="error-message" id="input_delete_products_done_en">done !</p>
		<p class="error-message" id="input_delete_products_done_pt">pronto !</p>
		<p class="error-message" id="input_delete_products_done_jp">かんりょう !</p>
		<p class="error-message" id="text_delete_products_notfound_en">account not found !</p>
		<p class="error-message" id="text_delete_products_notfound_pt">conta não encontrada !</p>
		<p class="error-message" id="text_delete_products_notfound_jp">アカウントが見つからない !</p>
		<input style="width:50px; height:31px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/okbutton.png); cursor: url(./img/cursorhover.png), progress; outline: none;" type="button" onclick="deleteProductData();"/>
	
	<script>
		function clearProductDataDeletionMessage(){
			document.getElementById('input_email_delete_products_error_invalid_en').style.display = 'none';
			document.getElementById('input_email_delete_products_error_invalid_pt').style.display = 'none';
			document.getElementById('input_email_delete_products_error_invalid_jp').style.display = 'none';
			document.getElementById('input_credentials_delete_products_error_invalid_en').style.display = 'none';
			document.getElementById('input_credentials_delete_products_error_invalid_pt').style.display = 'none';
			document.getElementById('input_credentials_delete_products_error_invalid_jp').style.display = 'none';
			document.getElementById('input_delete_products_done_en').style.display = 'none';
			document.getElementById('input_delete_products_done_pt').style.display = 'none';
			document.getElementById('input_delete_products_done_jp').style.display = 'none';
			document.getElementById('text_delete_products_wentwrong_en').style.display = 'none';
			document.getElementById('text_delete_products_wentwrong_pt').style.display = 'none';
			document.getElementById('text_delete_products_wentwrong_jp').style.display = 'none';
			document.getElementById('text_delete_products_notfound_en').style.display = 'none';
			document.getElementById('text_delete_products_notfound_pt').style.display = 'none';
			document.getElementById('text_delete_products_notfound_jp').style.display = 'none';
		}
		function showProductDataDeletionWrongCredentials(){
			clearProductDataDeletionMessage();
			var lang = getCurrentLanguage();
			document.getElementById('input_credentials_delete_products_error_invalid_'+lang).style.display = 'block';
		}
		function showProductDataDeletionInvalidEmail(){
			clearProductDataDeletionMessage();
			var lang = getCurrentLanguage();
			document.getElementById('input_email_delete_products_error_invalid_'+lang).style.display = 'block';
		}
		function showProductDataDeletionWentWrong(){
			clearProductDataDeletionMessage();
			var lang = getCurrentLanguage();
			document.getElementById('text_delete_products_wentwrong_'+lang).style.display = 'block';
		}
		function showProductDataDeletionNotFound(){
			clearProductDataDeletionMessage();
			var lang = getCurrentLanguage();
			document.getElementById('text_delete_products_notfound_'+lang).style.display = 'block';
		}
	
		async function deleteProductData(){
			var lang = getCurrentLanguage();
			var emailEl = document.getElementById('input_delete_products_email_'+lang);
			var passEl = document.getElementById('input_delete_products_password_'+lang);
			var prodEl = document.getElementById('select-product-deletion');
			var confirmEl = document.getElementById('checkbox-product-deletion');
			var email = emailEl.value;
			var password = passEl.value;
			var product = prodEl.value;
			var confirmed = confirmEl.checked;
			if(!confirmed || product === '0'){
				return;
			}
			if(!validateEmail(email)){
				showProductDataDeletionInvalidEmail();
				return;
			}
			if(!password || password.length < 8 || password.length > 32){
				showProductDataDeletionWrongCredentials();
				return;
			}
	
			//shows overlay
			showLoadingOverlay();
	
			//tries to login
			try{
				var passB64 = btoa(password);
				var res = await fetch(api_path+'/settings/account/product/'+product+'/delete',{
					'method': 'POST',
					credentials: 'include',
					headers:{
						'Content-Type': 'application/json'
					},
					body: JSON.stringify({
						email: email,
						password: passB64
					})
				})
				if(!res.status || res.status === 400 || res.status >= 500){
					throw new Error('something went wrong');
				}
				else if(res.status === 404){
					showProductDataDeletionNotFound();
					return;
				}
				else if(res.status === 401){
					showProductDataDeletionWrongCredentials();
					return;
				}
				//if server requested TFA
				else if(res.status === 202){
					showTFA();
					lastRequest = deleteProductData;
					lastRequestArgs = [];
					lastUsedEmail = email;
					return;
				}
				else if(res.status !== 200 && res.status !== 204){
					throw new Error('something went wrong');
				}
				//all ok, clear fields
				clearProductDataDeletionMessage();
				emailEl.value = '';
				passEl.value = '';
				confirmEl.checked = false;
				document.getElementById('input_delete_products_done_'+lang).style.display = 'block';
			}
			catch(err){
				console.log(err);
				showProductDataDeletionWentWrong();
			}
			finally{
				hideLoadingOverlay();
			}
		}
	</script>
	
	
	<br><br><br><br><br>
		<div style="line-height: 15px;">
		<font color="#b8a2a3" style="font-size:10px;">
		<span id="text_delete_account_en">request poofties account deletion :</span>
		<span id="text_delete_account_pt" style="display: none;">solicitar exclusão da conta poofties :</span>
		<span id="text_delete_account_jp" style="display: none;">pooftiesアカウント削除を依頼する :</span>
		<br></font>
		</div>
		<br><br></center>
		<!-- </div> -->
	
		<center>
		<input id="input_delete_account_email_en" placeholder="type your email" maxlength="50" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
		<input id="input_delete_account_email_pt" placeholder="digite seu email" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
		<input id="input_delete_account_email_jp" placeholder="メールを入力してください" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
			<p class="error-message" id="input_email_delete_account_error_invalid_en">invalid email !</p>
			<p class="error-message" id="input_email_delete_account_error_invalid_pt">email inválido !</p>
			<p class="error-message" id="input_email_delete_account_error_invalid_jp">無効なメール !</p>
		<br><br>
		<input type="password" id="input_delete_account_password_en" placeholder="type your password" maxlength="50" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
		<input type="password" id="input_delete_account_password_pt" placeholder="digite sua senha" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
		<input type="password" id="input_delete_account_password_jp" placeholder="パスワードを入力" maxlength="50" style="display: none; height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
			<p class="error-message" id="input_credentials_delete_account_error_invalid_en">wrong email or password !</p>
			<p class="error-message" id="input_credentials_delete_account_error_invalid_pt">email ou senha errados !</p>
			<p class="error-message" id="input_credentials_delete_account_error_invalid_jp">メールアドレスまたはパスワードが間違っています !</p>
		<br><br>
		<a href="./forgot" id="linkbjinho" style="text-decoration: none;">
			<font color="#c9abb0" style="font-size:8px" id="link_delete_account_forgot_en">forgot ?</font>
			<font color="#c9abb0" style="font-size:8px; display: none;" id="link_delete_account_forgot_pt">esqueceu ?</font>
			<font color="#c9abb0" style="font-size:8px; display: none;" id="link_delete_account_forgot_jp">忘れましたか ?</font>
		</a>
		<br><br>
	<div style="line-height:2px; margin-left:-10px;"><sub><sub><input id="checkbox-account-deletion" type="checkbox" class="regular-checkbox" /><label for="checkbox-account-deletion"></label></sub></sub>
		<font color="#c9abb0" style="font-size:8px; text-align:left;">
			<span id="text_confirm_delete_account_en">i agree with losing permanently my access<br><br><br><br><br>and data from all the poofties products acquired.</span>
			<span id="text_confirm_delete_account_pt" style="display: none;">concordo em perder permanentemente meu acesso<br><br><br><br><br>e dados de todos os produtos poofties adquiridos.</span>
			<span id="text_confirm_delete_account_jp" style="display: none;">買収したすべてのpoofties製品のアクセス<br><br><br><br><br>権とデータを永久に失うことに同意します。</span></div><br><br>
		</font>
		<input style="width:50px; height:31px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/okbutton.png); cursor: url(./img/cursorhover.png), progress; outline: none;" type="button" onclick="deletePooftiesAccount();"/>
		<p class="error-message" id="text_delete_account_wentwrong_en">something went wrong !</p>
		<p class="error-message" id="text_delete_account_wentwrong_pt">algo deu errado !</p>
		<p class="error-message" id="text_delete_account_wentwrong_jp">何かがうまくいかなかった !</p>
		<p class="error-message" id="input_delete_account_done_en">an email has been sent to you !</p>
		<p class="error-message" id="input_delete_account_done_pt">um email foi enviado para você !</p>
		<p class="error-message" id="input_delete_account_done_jp">電子メールが送信されました !</p>
		</center>
	
	<br><br><br>
	
	<script>
		function clearPooftiesAccountDeletionMessage(){
			document.getElementById('input_email_delete_account_error_invalid_en').style.display = 'none';
			document.getElementById('input_email_delete_account_error_invalid_pt').style.display = 'none';
			document.getElementById('input_email_delete_account_error_invalid_jp').style.display = 'none';
			document.getElementById('input_credentials_delete_account_error_invalid_en').style.display = 'none';
			document.getElementById('input_credentials_delete_account_error_invalid_pt').style.display = 'none';
			document.getElementById('input_credentials_delete_account_error_invalid_jp').style.display = 'none';
			document.getElementById('input_delete_account_done_en').style.display = 'none';
			document.getElementById('input_delete_account_done_pt').style.display = 'none';
			document.getElementById('input_delete_account_done_jp').style.display = 'none';
			document.getElementById('text_delete_account_wentwrong_en').style.display = 'none';
			document.getElementById('text_delete_account_wentwrong_pt').style.display = 'none';
			document.getElementById('text_delete_account_wentwrong_jp').style.display = 'none';
		}
		function showPooftiesAccountDeletionWrongCredentials(){
			clearPooftiesAccountDeletionMessage();
			var lang = getCurrentLanguage();
			document.getElementById('input_credentials_delete_account_error_invalid_'+lang).style.display = 'block';
		}
		function showPooftiesAccountDeletionInvalidEmail(){
			clearPooftiesAccountDeletionMessage();
			var lang = getCurrentLanguage();
			document.getElementById('input_email_delete_account_error_invalid_'+lang).style.display = 'block';
		}
		function showPooftiesAccountDeletionWentWrong(){
			clearPooftiesAccountDeletionMessage();
			var lang = getCurrentLanguage();
			document.getElementById('text_delete_account_wentwrong_'+lang).style.display = 'block';
		}
		function showPooftiesAccountDeletionNotFound(){
			clearPooftiesAccountDeletionMessage();
			var lang = getCurrentLanguage();
			document.getElementById('text_delete_account_notfound_'+lang).style.display = 'block';
		}
	
		async function deletePooftiesAccount(){
			var lang = getCurrentLanguage();
			var emailEl = document.getElementById('input_delete_account_email_'+lang);
			var passEl = document.getElementById('input_delete_account_password_'+lang);
			var confirmEl = document.getElementById('checkbox-account-deletion');
			var email = emailEl.value;
			var password = passEl.value;
			var confirmed = confirmEl.checked;
			if(!confirmed){
				return;
			}
			if(!validateEmail(email)){
				showPooftiesAccountDeletionInvalidEmail();
				return;
			}
			if(!password || password.length < 8 || password.length > 32){
				showPooftiesAccountDeletionWrongCredentials();
				return;
			}
	
			//shows overlay
			showLoadingOverlay();
	
			//tries to login
			try{
				var passB64 = btoa(password);
				var res = await fetch(api_path+'/settings/account/delete',{
					'method': 'POST',
					credentials: 'include',
					headers:{
						'Content-Type': 'application/json'
					},
					body: JSON.stringify({
						email: email,
						password: passB64
					})
				})
				if(res.status === 401){
					showPooftiesAccountDeletionWrongCredentials();
					return;
				}
				//if server requested TFA
				else if(res.status === 202){
					showTFA();
					lastRequest = deletePooftiesAccount;
					lastRequestArgs = [];
					lastUsedEmail = email;
					return;
				}
				else if(res.status !== 200){
					throw new Error('something went wrong');
				}
				//all ok, clear fields
				clearPooftiesAccountDeletionMessage();
				emailEl.value = '';
				passEl.value = '';
				confirmEl.checked = false;
				document.getElementById('input_delete_account_done_'+lang).style.display = 'block';
			}
			catch(err){
				console.log(err);
				showPooftiesAccountDeletionWentWrong();
			}
			finally{
				hideLoadingOverlay();
			}
		}
	</script>
</div>

<center>
<div id="div_2fa" style="display: none;">
	<font color="#b8a2a3" style="font-size:10px;">
	<span id="text_2fa_sent_en">a 2fa code has been sent to your email !</span>
	<span id="text_2fa_sent_pt" style="display: none;">um código 2fa foi enviado para seu email !</span>
	<span id="text_2fa_sent_jp" style="display: none;">2faコードがあなたのメールアドレスに送信されました !</span>
	<br><br>
	<input id="input_2fa_code_en" oninput="this.value = this.value.toUpperCase();" placeholder="type your code" maxlength="6" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center;" />
	<input id="input_2fa_code_pt" oninput="this.value = this.value.toUpperCase();" placeholder="digite seu código" maxlength="6" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center; display: none;" />
	<input id="input_2fa_code_jp" oninput="this.value = this.value.toUpperCase();" placeholder="コードを入力してください" maxlength="6" style="height:31px; width:140px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/textbox.png); outline:none; padding-left:5px; padding-right:5px; cursor: url(./img/cursorwrite.png), progress; font-family: Verdana; font-size: 10px; letter-spacing:1px; color:#b8a0a3; text-align:center; display: none;" />
	<br><br>
	<style>.tfa_link{display: inline-block; text-decoration: none; color: #bca7a7; padding-bottom: 2px; border-bottom:1px dotted #c6a799;}</style>
	<a id="link_resend_en" class="tfa_link" onclick="resendCode(true);">send again</a>
	<a id="link_resend_pt" style="display: none;" class="tfa_link" onclick="resendCode(true);">mandar novamente</a>
	<a id="link_resend_jp" style="display: none;" class="tfa_link" onclick="resendCode(true);">もう一度送信</a>
	|
	<a id="link_send_second_en" class="tfa_link" onclick="resendCode(false);">send to second email</a>
	<a id="link_send_second_pt" style="display: none;" class="tfa_link" onclick="resendCode(false);">enviar para o segundo email</a>
	<a id="link_send_second_jp" style="display: none;" class="tfa_link" onclick="resendCode(false);">2番目のメールに送信</a>
	|
	<a id="link_disable_2fa_en" class="tfa_link" onclick="window.location = '/account/disable-tfa'">disable 2fa</a>
	<a id="link_disable_2fa_pt" style="display: none;" class="tfa_link" onclick="window.location = '/account/disable-tfa'">desabilitar 2fa</a>
	<a id="link_disable_2fa_jp" style="display: none;" class="tfa_link" onclick="window.location = '/account/disable-tfa'">2faを無効にする</a>
	<br><br>
	<input style="width:50px; height:31px; border: none; border-width: 0px !important; background-color: transparent; background-image:url(./img/okbutton.png); cursor: url(./img/cursorhover.png), progress; outline: none;" type="button" onclick="submitTFA();" />
		<p class="error-message" id="input_2fa_error_invalid_en">invalid code !</p>
		<p class="error-message" id="input_2fa_error_invalid_pt">código inválido !</p>
		<p class="error-message" id="input_2fa_error_invalid_jp">無効なコード !</p>
	</font>
</div>
<script>
	var lastRequest;
	var lastRequestArgs = [];
	var lastUsedEmail = '';
	async function submitTFA(){
		var lang = getCurrentLanguage();
		var code = document.getElementById('input_2fa_code_'+lang).value;
		if(code){
			if(code.length !== 6){
				//invalid code
				document.getElementById('input_2fa_error_invalid_'+lang).style.display = 'block';
				return;
			}
			//show loading overlay
			showLoadingOverlay();

			//submit to validation
			var req = await fetch(tfa_path+'/verify', {
				method: 'POST',
				credentials: 'include',
				headers:{
					'content-type': 'application/json'
				},
				body: JSON.stringify({
					code: code,
					email: lastUsedEmail
				})
			});
			//hides overlay
			hideLoadingOverlay();

			//code is correct
			if(req.status === 200){
				//remake request with provided arguments
				if(lastRequest)
					lastRequest(...lastRequestArgs);
				hideTFA();
			}
			else{
				//invalid code
				document.getElementById('input_2fa_error_invalid_'+lang).style.display = 'block';
				return;
			}
		}
	}
	async function resendCode(to_primary){
		showLoadingOverlay();
		await fetch(tfa_path+'/resend', {
			method: 'POST',
			credentials: 'include',
			headers:{
				'content-type': 'application/json'
			},
			body: JSON.stringify({
				email: lastUsedEmail,
				to_primary: to_primary
			})
		})
		hideLoadingOverlay();
	}
	
	function showTFA(){
		document.getElementById('div_2fa').style.display = 'block';
		document.getElementById('div_inputs').style.display = 'none';
	}
	function hideTFA(){
		document.getElementById('div_2fa').style.display = 'none';
		document.getElementById('input_2fa_code_en').value = '';
		document.getElementById('input_2fa_code_pt').value = '';
		document.getElementById('input_2fa_code_jp').value = '';
		document.getElementById('div_inputs').style.display = 'block';
	}
</script>
</center>

</div>
</div>
</div>

</div>

<div style="display: none; position:relative; float:right; right:20px; top:-5px;">
<a><img src="./img/langbutton1.png" id="en" onclick="changeTranslation(this);"/></a>
<a><img src="./img/langbutton2.png" id="pt" onclick="changeTranslation(this);"/></a>
<a><img src="./img/langbutton3.png" id="jp" onclick="changeTranslation(this);"/></a>
</div>

<script>
	registerTranslatable('img_login_settings');
	registerTranslatable('text_add_secondary_email');
	registerTranslatable('input_email');
	registerTranslatable('input_email_secondary');
	registerTranslatable('input_email_secondary_confirm');
	registerTranslatable('input_password_secondary');
	registerTranslatable('text_change_email');
	registerTranslatable('input_current_email');
	registerTranslatable('link_forgot');
	registerTranslatable('input_new_email');
	registerTranslatable('input_new_email_confirm');
	registerTranslatable('input_password_new_email');
	registerTranslatable('text_change_password');
	registerTranslatable('input_change_password_email');
	registerTranslatable('input_change_password_current');
	registerTranslatable('link_change_password_forgot');
	registerTranslatable('link_change_email_forgot');
	registerTranslatable('input_change_password_new');
	registerTranslatable('input_change_password_new_confirm');
	registerTranslatable('text_deactivate_2fa');
	registerTranslatable('input_deactivate_2fa_email');
	registerTranslatable('input_deactivate_2fa_password');
	registerTranslatable('link_deactivate_2fa_forgot');
	registerTranslatable('text_2fa_sent');
	registerTranslatable('input_2fa_code');
	registerTranslatable('text_delete_products');
	registerTranslatable('input_delete_products_email');
	registerTranslatable('input_delete_products_password');
	registerTranslatable('link_delete_products_forgot');
	registerTranslatable('text_confirm_delete_products');
	registerTranslatable('text_delete_account');
	registerTranslatable('input_delete_account_email');
	registerTranslatable('input_delete_account_password');
	registerTranslatable('link_delete_account_forgot');
	registerTranslatable('text_confirm_delete_account');
	registerTranslatable('text_monthly_updates');
	registerTranslatable('text_confirm_monthly_updates');
	registerTranslatable('text_archive_monthly_updates');
	registerTranslatable('text_monthly_updates_wentwrong');
	registerTranslatable('input_activated_monthly_done');
	registerTranslatable('input_deactivated_monthly_done');
	autoTranslate();
</script>

</body>

<!--

　　　          ___   .--.
　　　    .--.-"   "-' .- |
　　　   / .-,`          .'   
　　　   \   `           \ 　　　　　　。・゜ 　♡   。　　・　゜ 　　　♡  
　　　    '.            ・ \　　　　　　　　　　　　　　　　　　　　　　　　♡　　　　♡ ゜・。。♡  
　　　      |  ・     ᴥ    。|　　　　・゜♡ ゜・。　　. * ・ ♡ °  . 。
　　　      \ 。            /.____　　　　　　　　　　　　　　　　　　♡.  
　　　     /`-.          ,'.'    `\　　　　　　　　　　　　　　　　　　。・゜　　　 ♡ ・ 。　　。・゜ ♡  
　　　  __/   \`-.____.-' `\      /　　　　　♡　。・゜      
　　　  | `---`'-'._/-`     \----'    _ 　　　　　　　　　　　♡　　　.　　　.♡ 
　　　  |,-'`  /             |    _.-' `\　　　　. * ・        
　　　 .'     /              |--'`     / |　　　　　　　　　　 ♡
　　　/      /\              `         | |
　　　|   .\/  \      .--. __          \ |　　　　　　　　　　　*.。middlepot.com 
　　　 '-'      '._       /  `\         /　　　　　　　　　　　　　　　　　　　　　　　ଘ(*´ ˘ `*)ഒ 。.*
　　　             `\    '     |------'`
　　　               \  |      |
　　　                \        /
 　　　                '._  _.'

-->

</html>